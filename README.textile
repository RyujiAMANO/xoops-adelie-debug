h1. AdelieDebug

XOOPS Cube Legacy でモジュール・プリロードなどを開発するデベロッパー向けのパワフルな開発支援ツールです。

h2. 特徴

h3. 1.見やすいデバッグ画面

* タイムライン表示: PHPやSQLのログをすべて、ひとつのタイムラインに集約。処理の前後関係を分かりやすくする工夫。
* エラーをハイライト表示: SQLやPHPのエラーはハイライトで表示されるので視覚的。

h3. 2.便利なデバッグ関数

* adump(mixed[, mixed, ...]): var_dump()を preタグ で囲んで見やすくした上に、関数が何処に書かれているかまで表示。
* atrace(): 処理経路をトレースします。関数がどこから呼ばれてるから一目瞭然。
* awhich(object|string): クラスや関数がどのファイルの何行目で定義されているかを表示。

h3. 3.XOOPS Cube Legacyのためのツールであること

* もう var_dump() のあとに exit() を付けたり、<{stdout}>をテーマに書く必要はありません。AdelieDebugはXOOPSのob_bufferを自動的に回避するからです。
* XML出力画面にvar_dump()してしまって、Ajaxのテストがうまくできない、なんてことはありません。AdelieDebugはAJAXリクエストのときやHTML出力以外のコンテクストではデバッグ出力を自動でオフにします。

h3. 4.実践で使われているツールであること

* 開発者が仕事でモジュールを開発するときに使っているツールなのです。

h2. 基本的な使い方

ビルド build/AdelieDebug.class.php をあなたの XOOPS Cube の preload に置くだけです。
不要になった場合は、このプリロードを削除します。

h2. コンパイル

h3. ソースコード

ビルド前のソースコードは source にあります。
ビルド前開発時はシンボリックリンクを使うと便利です。

<pre>
ln -s ~/Projects/xoops-adelie-debug/source/AdelieDebug/Preload.php /var/www/html/preload/AdelieDebug_Preload.class.php
</pre>

h3. ビルド

コマンドラインで php compile.php を叩くとビルドできます。

h2. Tips

h3. Smartyでadump()を使う

<pre><{$variable|@adump}></pre>

